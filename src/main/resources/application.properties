# =============================================================================
# Red Hat Cases MCP Server Configuration
# =============================================================================

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
quarkus.application.name=redhat-cases-mcp
quarkus.application.version=1.0.0

# -----------------------------------------------------------------------------
# HTTP Server Configuration
# -----------------------------------------------------------------------------
quarkus.http.port=9080
quarkus.http.host=0.0.0.0

# CORS Configuration (required for MCP Streamable HTTP)
quarkus.http.cors.enabled=true
quarkus.http.cors.origins=*
quarkus.http.cors.methods=GET,POST,PUT,DELETE,OPTIONS
quarkus.http.cors.headers=Content-Type,Accept

# -----------------------------------------------------------------------------
# MCP Server Configuration
# -----------------------------------------------------------------------------
quarkus.mcp.server.traffic-logging.enabled=true
quarkus.mcp.server.traffic-logging.text-limit=1000

# -----------------------------------------------------------------------------
# Red Hat API Configuration
# -----------------------------------------------------------------------------

# Offline Token (Required)
# Generate at: https://access.redhat.com/management/api
redhat.api.offline-token=${REDHAT_TOKEN}

# SSO Configuration
redhat.api.sso.token-url=https://sso.redhat.com/auth/realms/redhat-external/protocol/openid-connect/token
redhat.api.sso.client-id=rhsm-api
redhat.api.sso.token-renewal-buffer-seconds=60

# Cases API Configuration
redhat.api.cases.base-url=https://api.access.redhat.com/support
redhat.api.cases.max-results=100
redhat.api.cases.default-sort-field=lastModifiedDate
redhat.api.cases.default-sort-order=DESC

# HTTP Timeouts (seconds)
redhat.api.timeouts.connect-seconds=10
redhat.api.timeouts.request-seconds=30

# Supported Red Hat Products
redhat.api.products=Red Hat Enterprise Linux,\
  OpenShift Container Platform,\
  Ansible Automation Platform,\
  Red Hat JBoss EAP,\
  Red Hat AMQ,\
  Red Hat Data Grid,\
  Red Hat Fuse,\
  Red Hat 3scale API Management,\
  Red Hat OpenStack Platform,\
  Red Hat Satellite,\
  Red Hat Virtualization,\
  Red Hat Ceph Storage

# -----------------------------------------------------------------------------
# Logging Configuration
# -----------------------------------------------------------------------------
quarkus.log.console.format=%d{yyyy-MM-dd HH:mm:ss} %-5p [%c{2.}] (%t) %s%e%n
quarkus.log.level=INFO
quarkus.log.category."io.quarkiverse.mcp".level=INFO
quarkus.log.category."com.redhat.cases".level=DEBUG

# -----------------------------------------------------------------------------
# STDIO Transport Configuration (for Claude Code / Claude Desktop)
# -----------------------------------------------------------------------------
# STDIO transport is activated by adding the quarkus-mcp-server-stdio dependency.
# When running in stdio mode, the HTTP server must be disabled via cli.js:
#   -Dquarkus.http.host-enabled=false
# The stdio extension automatically redirects stdout to null and logs to stderr.
# Traffic logging should be disabled for stdio mode to avoid protocol interference.

# -----------------------------------------------------------------------------
# Native Build Optimizations
# -----------------------------------------------------------------------------
quarkus.native.resources.includes=**/*.properties
